apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: splunk-secret
spec:
  refreshInterval: 1m
  secretStoreRef:
    name: splunk-store # my-secret-store       # The secret store name we have just created.
    kind: SecretStore
  target:
    name: vector-splunk-secret # my-kubernetes-secret  # Secret name in k8s
  data:
  - secretKey: hecToken # $KEY1 username   # AWS key to be stored
    remoteRef:
      key: vector-splunk-secret # ${ESO_SECRET_BUCKET} # Our AWS secret-name goes here
      property: hecToken # $KEY1 username  # The desired property in the AWS secret
  - secretKey: splunk_hec_url # $KEY2 password   # AWS key to be stored
    remoteRef:
      key: vector-splunk-secret # ${ESO_SECRET_BUCKET} # Our AWS secret-name goes here
      property: splunk_hec_url # $KEY2 password  # The desired property in the AWS secret 
